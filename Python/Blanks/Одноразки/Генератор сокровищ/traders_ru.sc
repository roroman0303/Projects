// ================[ama_fild01]======================
npc "ama_fild01" "Пират#ama_fild01" 4_CAT_SAILOR2 71 50 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17416
	SetQuestConditionBegin 17416 1 4
	SetQuestConditionQuest 17416 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17416 1 4
	SetQuestConditionQuest 17416 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17416 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ama_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17416 = isbegin_quest 17416
		var hunt_check = checkquest_hunting 17416
		if (pirate_17416 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17416
					close
					return
				break
			endchoose
		elseif (pirate_17416 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17416
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ayo_fild01]======================
npc "ayo_fild01" "Пират#ayo_fild01" 4_CAT_SAILOR2 50 237 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17417
	SetQuestConditionBegin 17417 1 4
	SetQuestConditionQuest 17417 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17417 1 4
	SetQuestConditionQuest 17417 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17417 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ayo_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17417 = isbegin_quest 17417
		var hunt_check = checkquest_hunting 17417
		if (pirate_17417 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17417
					close
					return
				break
			endchoose
		elseif (pirate_17417 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17417
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[bif_fild01]======================
npc "bif_fild01" "Пират#bif_fild01" 4_CAT_SAILOR2 169 315 0 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17418
	SetQuestConditionBegin 17418 1 4
	SetQuestConditionQuest 17418 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17418 1 4
	SetQuestConditionQuest 17418 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17418 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#bif_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17418 = isbegin_quest 17418
		var hunt_check = checkquest_hunting 17418
		if (pirate_17418 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17418
					close
					return
				break
			endchoose
		elseif (pirate_17418 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17418
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[bif_fild02]======================
npc "bif_fild02" "Пират#bif_fild02" 4_CAT_SAILOR2 305 306 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17419
	SetQuestConditionBegin 17419 1 4
	SetQuestConditionQuest 17419 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17419 1 4
	SetQuestConditionQuest 17419 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17419 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#bif_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17419 = isbegin_quest 17419
		var hunt_check = checkquest_hunting 17419
		if (pirate_17419 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17419
					close
					return
				break
			endchoose
		elseif (pirate_17419 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17419
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[bra_fild01]======================
npc "bra_fild01" "Пират#bra_fild01" 4_CAT_SAILOR2 88 38 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17420
	SetQuestConditionBegin 17420 1 4
	SetQuestConditionQuest 17420 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17420 1 4
	SetQuestConditionQuest 17420 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17420 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#bra_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17420 = isbegin_quest 17420
		var hunt_check = checkquest_hunting 17420
		if (pirate_17420 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17420
					close
					return
				break
			endchoose
		elseif (pirate_17420 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17420
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild01]======================
npc "cmd_fild01" "Пират#cmd_fild01" 4_CAT_SAILOR2 36 324 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17421
	SetQuestConditionBegin 17421 1 4
	SetQuestConditionQuest 17421 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17421 1 4
	SetQuestConditionQuest 17421 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17421 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17421 = isbegin_quest 17421
		var hunt_check = checkquest_hunting 17421
		if (pirate_17421 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17421
					close
					return
				break
			endchoose
		elseif (pirate_17421 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17421
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild02]======================
npc "cmd_fild02" "Пират#cmd_fild02" 4_CAT_SAILOR2 212 366 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17422
	SetQuestConditionBegin 17422 1 4
	SetQuestConditionQuest 17422 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17422 1 4
	SetQuestConditionQuest 17422 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17422 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17422 = isbegin_quest 17422
		var hunt_check = checkquest_hunting 17422
		if (pirate_17422 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17422
					close
					return
				break
			endchoose
		elseif (pirate_17422 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17422
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild03]======================
npc "cmd_fild03" "Пират#cmd_fild03" 4_CAT_SAILOR2 40 271 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17423
	SetQuestConditionBegin 17423 1 4
	SetQuestConditionQuest 17423 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17423 1 4
	SetQuestConditionQuest 17423 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17423 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17423 = isbegin_quest 17423
		var hunt_check = checkquest_hunting 17423
		if (pirate_17423 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17423
					close
					return
				break
			endchoose
		elseif (pirate_17423 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17423
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild04]======================
npc "cmd_fild04" "Пират#cmd_fild04" 4_CAT_SAILOR2 47 272 1 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17424
	SetQuestConditionBegin 17424 1 4
	SetQuestConditionQuest 17424 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17424 1 4
	SetQuestConditionQuest 17424 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17424 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17424 = isbegin_quest 17424
		var hunt_check = checkquest_hunting 17424
		if (pirate_17424 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17424
					close
					return
				break
			endchoose
		elseif (pirate_17424 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17424
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild06]======================
npc "cmd_fild06" "Пират#cmd_fild06" 4_CAT_SAILOR2 31 296 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17425
	SetQuestConditionBegin 17425 1 4
	SetQuestConditionQuest 17425 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17425 1 4
	SetQuestConditionQuest 17425 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17425 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17425 = isbegin_quest 17425
		var hunt_check = checkquest_hunting 17425
		if (pirate_17425 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17425
					close
					return
				break
			endchoose
		elseif (pirate_17425 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17425
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild07]======================
npc "cmd_fild07" "Пират#cmd_fild07" 4_CAT_SAILOR2 159 353 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17426
	SetQuestConditionBegin 17426 1 4
	SetQuestConditionQuest 17426 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17426 1 4
	SetQuestConditionQuest 17426 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17426 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17426 = isbegin_quest 17426
		var hunt_check = checkquest_hunting 17426
		if (pirate_17426 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17426
					close
					return
				break
			endchoose
		elseif (pirate_17426 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17426
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild08]======================
npc "cmd_fild08" "Пират#cmd_fild08" 4_CAT_SAILOR2 44 365 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17427
	SetQuestConditionBegin 17427 1 4
	SetQuestConditionQuest 17427 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17427 1 4
	SetQuestConditionQuest 17427 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17427 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild08" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17427 = isbegin_quest 17427
		var hunt_check = checkquest_hunting 17427
		if (pirate_17427 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17427
					close
					return
				break
			endchoose
		elseif (pirate_17427 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17427
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[cmd_fild09]======================
npc "cmd_fild09" "Пират#cmd_fild09" 4_CAT_SAILOR2 23 166 0 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17428
	SetQuestConditionBegin 17428 1 4
	SetQuestConditionQuest 17428 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17428 1 4
	SetQuestConditionQuest 17428 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17428 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#cmd_fild09" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17428 = isbegin_quest 17428
		var hunt_check = checkquest_hunting 17428
		if (pirate_17428 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17428
					close
					return
				break
			endchoose
		elseif (pirate_17428 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17428
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ecl_fild01]======================
npc "ecl_fild01" "Пират#ecl_fild01" 4_CAT_SAILOR2 118 310 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17429
	SetQuestConditionBegin 17429 1 4
	SetQuestConditionQuest 17429 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17429 1 4
	SetQuestConditionQuest 17429 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17429 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ecl_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17429 = isbegin_quest 17429
		var hunt_check = checkquest_hunting 17429
		if (pirate_17429 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17429
					close
					return
				break
			endchoose
		elseif (pirate_17429 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17429
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ein_fild03]======================
npc "ein_fild03" "Пират#ein_fild03" 4_CAT_SAILOR2 168 60 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17430
	SetQuestConditionBegin 17430 1 4
	SetQuestConditionQuest 17430 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17430 1 4
	SetQuestConditionQuest 17430 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17430 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ein_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17430 = isbegin_quest 17430
		var hunt_check = checkquest_hunting 17430
		if (pirate_17430 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17430
					close
					return
				break
			endchoose
		elseif (pirate_17430 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17430
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ein_fild04]======================
npc "ein_fild04" "Пират#ein_fild04" 4_CAT_SAILOR2 177 41 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17431
	SetQuestConditionBegin 17431 1 4
	SetQuestConditionQuest 17431 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17431 1 4
	SetQuestConditionQuest 17431 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17431 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ein_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17431 = isbegin_quest 17431
		var hunt_check = checkquest_hunting 17431
		if (pirate_17431 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17431
					close
					return
				break
			endchoose
		elseif (pirate_17431 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17431
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ein_fild05]======================
npc "ein_fild05" "Пират#ein_fild05" 4_CAT_SAILOR2 364 174 0 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17432
	SetQuestConditionBegin 17432 1 4
	SetQuestConditionQuest 17432 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17432 1 4
	SetQuestConditionQuest 17432 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17432 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ein_fild05" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17432 = isbegin_quest 17432
		var hunt_check = checkquest_hunting 17432
		if (pirate_17432 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17432
					close
					return
				break
			endchoose
		elseif (pirate_17432 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17432
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ein_fild06]======================
npc "ein_fild06" "Пират#ein_fild06" 4_CAT_SAILOR2 58 147 0 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17433
	SetQuestConditionBegin 17433 1 4
	SetQuestConditionQuest 17433 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17433 1 4
	SetQuestConditionQuest 17433 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17433 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ein_fild06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17433 = isbegin_quest 17433
		var hunt_check = checkquest_hunting 17433
		if (pirate_17433 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17433
					close
					return
				break
			endchoose
		elseif (pirate_17433 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17433
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ein_fild07]======================
npc "ein_fild07" "Пират#ein_fild07" 4_CAT_SAILOR2 170 333 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17434
	SetQuestConditionBegin 17434 1 4
	SetQuestConditionQuest 17434 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17434 1 4
	SetQuestConditionQuest 17434 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17434 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ein_fild07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17434 = isbegin_quest 17434
		var hunt_check = checkquest_hunting 17434
		if (pirate_17434 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17434
					close
					return
				break
			endchoose
		elseif (pirate_17434 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17434
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ein_fild08]======================
npc "ein_fild08" "Пират#ein_fild08" 4_CAT_SAILOR2 171 358 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17435
	SetQuestConditionBegin 17435 1 4
	SetQuestConditionQuest 17435 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17435 1 4
	SetQuestConditionQuest 17435 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17435 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ein_fild08" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17435 = isbegin_quest 17435
		var hunt_check = checkquest_hunting 17435
		if (pirate_17435 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17435
					close
					return
				break
			endchoose
		elseif (pirate_17435 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17435
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ein_fild09]======================
npc "ein_fild09" "Пират#ein_fild09" 4_CAT_SAILOR2 88 349 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17436
	SetQuestConditionBegin 17436 1 4
	SetQuestConditionQuest 17436 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17436 1 4
	SetQuestConditionQuest 17436 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17436 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ein_fild09" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17436 = isbegin_quest 17436
		var hunt_check = checkquest_hunting 17436
		if (pirate_17436 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17436
					close
					return
				break
			endchoose
		elseif (pirate_17436 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17436
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild00]======================
npc "gef_fild00" "Пират#gef_fild00" 4_CAT_SAILOR2 54 206 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17437
	SetQuestConditionBegin 17437 1 4
	SetQuestConditionQuest 17437 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17437 1 4
	SetQuestConditionQuest 17437 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17437 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild00" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17437 = isbegin_quest 17437
		var hunt_check = checkquest_hunting 17437
		if (pirate_17437 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17437
					close
					return
				break
			endchoose
		elseif (pirate_17437 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17437
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild01]======================
npc "gef_fild01" "Пират#gef_fild01" 4_CAT_SAILOR2 44 106 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17438
	SetQuestConditionBegin 17438 1 4
	SetQuestConditionQuest 17438 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17438 1 4
	SetQuestConditionQuest 17438 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17438 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17438 = isbegin_quest 17438
		var hunt_check = checkquest_hunting 17438
		if (pirate_17438 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17438
					close
					return
				break
			endchoose
		elseif (pirate_17438 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17438
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild02]======================
npc "gef_fild02" "Пират#gef_fild02" 4_CAT_SAILOR2 37 280 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17439
	SetQuestConditionBegin 17439 1 4
	SetQuestConditionQuest 17439 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17439 1 4
	SetQuestConditionQuest 17439 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17439 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17439 = isbegin_quest 17439
		var hunt_check = checkquest_hunting 17439
		if (pirate_17439 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17439
					close
					return
				break
			endchoose
		elseif (pirate_17439 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17439
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild03]======================
npc "gef_fild03" "Пират#gef_fild03" 4_CAT_SAILOR2 60 365 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17440
	SetQuestConditionBegin 17440 1 4
	SetQuestConditionQuest 17440 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17440 1 4
	SetQuestConditionQuest 17440 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17440 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17440 = isbegin_quest 17440
		var hunt_check = checkquest_hunting 17440
		if (pirate_17440 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17440
					close
					return
				break
			endchoose
		elseif (pirate_17440 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17440
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild04]======================
npc "gef_fild04" "Пират#gef_fild04" 4_CAT_SAILOR2 201 57 1 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17441
	SetQuestConditionBegin 17441 1 4
	SetQuestConditionQuest 17441 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17441 1 4
	SetQuestConditionQuest 17441 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17441 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17441 = isbegin_quest 17441
		var hunt_check = checkquest_hunting 17441
		if (pirate_17441 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17441
					close
					return
				break
			endchoose
		elseif (pirate_17441 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17441
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild05]======================
npc "gef_fild05" "Пират#gef_fild05" 4_CAT_SAILOR2 67 27 1 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17442
	SetQuestConditionBegin 17442 1 4
	SetQuestConditionQuest 17442 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17442 1 4
	SetQuestConditionQuest 17442 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17442 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild05" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17442 = isbegin_quest 17442
		var hunt_check = checkquest_hunting 17442
		if (pirate_17442 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17442
					close
					return
				break
			endchoose
		elseif (pirate_17442 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17442
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild06]======================
npc "gef_fild06" "Пират#gef_fild06" 4_CAT_SAILOR2 370 220 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17443
	SetQuestConditionBegin 17443 1 4
	SetQuestConditionQuest 17443 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17443 1 4
	SetQuestConditionQuest 17443 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17443 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17443 = isbegin_quest 17443
		var hunt_check = checkquest_hunting 17443
		if (pirate_17443 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17443
					close
					return
				break
			endchoose
		elseif (pirate_17443 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17443
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild07]======================
npc "gef_fild07" "Пират#gef_fild07" 4_CAT_SAILOR2 317 195 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17444
	SetQuestConditionBegin 17444 1 4
	SetQuestConditionQuest 17444 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17444 1 4
	SetQuestConditionQuest 17444 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17444 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17444 = isbegin_quest 17444
		var hunt_check = checkquest_hunting 17444
		if (pirate_17444 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17444
					close
					return
				break
			endchoose
		elseif (pirate_17444 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17444
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild08]======================
npc "gef_fild08" "Пират#gef_fild08" 4_CAT_SAILOR2 339 193 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17445
	SetQuestConditionBegin 17445 1 4
	SetQuestConditionQuest 17445 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17445 1 4
	SetQuestConditionQuest 17445 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17445 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild08" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17445 = isbegin_quest 17445
		var hunt_check = checkquest_hunting 17445
		if (pirate_17445 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17445
					close
					return
				break
			endchoose
		elseif (pirate_17445 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17445
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild09]======================
npc "gef_fild09" "Пират#gef_fild09" 4_CAT_SAILOR2 227 33 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17446
	SetQuestConditionBegin 17446 1 4
	SetQuestConditionQuest 17446 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17446 1 4
	SetQuestConditionQuest 17446 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17446 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild09" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17446 = isbegin_quest 17446
		var hunt_check = checkquest_hunting 17446
		if (pirate_17446 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17446
					close
					return
				break
			endchoose
		elseif (pirate_17446 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17446
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild10]======================
npc "gef_fild10" "Пират#gef_fild10" 4_CAT_SAILOR2 235 359 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17447
	SetQuestConditionBegin 17447 1 4
	SetQuestConditionQuest 17447 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17447 1 4
	SetQuestConditionQuest 17447 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17447 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild10" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17447 = isbegin_quest 17447
		var hunt_check = checkquest_hunting 17447
		if (pirate_17447 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17447
					close
					return
				break
			endchoose
		elseif (pirate_17447 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17447
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gef_fild11]======================
npc "gef_fild11" "Пират#gef_fild11" 4_CAT_SAILOR2 125 357 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17448
	SetQuestConditionBegin 17448 1 4
	SetQuestConditionQuest 17448 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17448 1 4
	SetQuestConditionQuest 17448 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17448 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gef_fild11" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17448 = isbegin_quest 17448
		var hunt_check = checkquest_hunting 17448
		if (pirate_17448 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17448
					close
					return
				break
			endchoose
		elseif (pirate_17448 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17448
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[gon_fild01]======================
npc "gon_fild01" "Пират#gon_fild01" 4_CAT_SAILOR2 255 91 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17449
	SetQuestConditionBegin 17449 1 4
	SetQuestConditionQuest 17449 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17449 1 4
	SetQuestConditionQuest 17449 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17449 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#gon_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17449 = isbegin_quest 17449
		var hunt_check = checkquest_hunting 17449
		if (pirate_17449 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17449
					close
					return
				break
			endchoose
		elseif (pirate_17449 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17449
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[hu_fild02]======================
npc "hu_fild02" "Пират#hu_fild02" 4_CAT_SAILOR2 274 52 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17450
	SetQuestConditionBegin 17450 1 4
	SetQuestConditionQuest 17450 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17450 1 4
	SetQuestConditionQuest 17450 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17450 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#hu_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17450 = isbegin_quest 17450
		var hunt_check = checkquest_hunting 17450
		if (pirate_17450 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17450
					close
					return
				break
			endchoose
		elseif (pirate_17450 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17450
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[hu_fild04]======================
npc "hu_fild04" "Пират#hu_fild04" 4_CAT_SAILOR2 374 201 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17451
	SetQuestConditionBegin 17451 1 4
	SetQuestConditionQuest 17451 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17451 1 4
	SetQuestConditionQuest 17451 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17451 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#hu_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17451 = isbegin_quest 17451
		var hunt_check = checkquest_hunting 17451
		if (pirate_17451 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17451
					close
					return
				break
			endchoose
		elseif (pirate_17451 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17451
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[hu_fild06]======================
npc "hu_fild06" "Пират#hu_fild06" 4_CAT_SAILOR2 190 366 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17452
	SetQuestConditionBegin 17452 1 4
	SetQuestConditionQuest 17452 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17452 1 4
	SetQuestConditionQuest 17452 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17452 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#hu_fild06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17452 = isbegin_quest 17452
		var hunt_check = checkquest_hunting 17452
		if (pirate_17452 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17452
					close
					return
				break
			endchoose
		elseif (pirate_17452 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17452
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[lhz_fild01]======================
npc "lhz_fild01" "Пират#lhz_fild01" 4_CAT_SAILOR2 219 70 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17453
	SetQuestConditionBegin 17453 1 4
	SetQuestConditionQuest 17453 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17453 1 4
	SetQuestConditionQuest 17453 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17453 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#lhz_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17453 = isbegin_quest 17453
		var hunt_check = checkquest_hunting 17453
		if (pirate_17453 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17453
					close
					return
				break
			endchoose
		elseif (pirate_17453 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17453
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[lhz_fild02]======================
npc "lhz_fild02" "Пират#lhz_fild02" 4_CAT_SAILOR2 33 232 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17454
	SetQuestConditionBegin 17454 1 4
	SetQuestConditionQuest 17454 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17454 1 4
	SetQuestConditionQuest 17454 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17454 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#lhz_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17454 = isbegin_quest 17454
		var hunt_check = checkquest_hunting 17454
		if (pirate_17454 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17454
					close
					return
				break
			endchoose
		elseif (pirate_17454 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17454
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[lhz_fild03]======================
npc "lhz_fild03" "Пират#lhz_fild03" 4_CAT_SAILOR2 153 344 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17455
	SetQuestConditionBegin 17455 1 4
	SetQuestConditionQuest 17455 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17455 1 4
	SetQuestConditionQuest 17455 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17455 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#lhz_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17455 = isbegin_quest 17455
		var hunt_check = checkquest_hunting 17455
		if (pirate_17455 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17455
					close
					return
				break
			endchoose
		elseif (pirate_17455 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17455
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ma_fild01]======================
npc "ma_fild01" "Пират#ma_fild01" 4_CAT_SAILOR2 285 71 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17456
	SetQuestConditionBegin 17456 1 4
	SetQuestConditionQuest 17456 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17456 1 4
	SetQuestConditionQuest 17456 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17456 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ma_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17456 = isbegin_quest 17456
		var hunt_check = checkquest_hunting 17456
		if (pirate_17456 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17456
					close
					return
				break
			endchoose
		elseif (pirate_17456 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17456
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ma_fild02]======================
npc "ma_fild02" "Пират#ma_fild02" 4_CAT_SAILOR2 239 42 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17457
	SetQuestConditionBegin 17457 1 4
	SetQuestConditionQuest 17457 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17457 1 4
	SetQuestConditionQuest 17457 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17457 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ma_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17457 = isbegin_quest 17457
		var hunt_check = checkquest_hunting 17457
		if (pirate_17457 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17457
					close
					return
				break
			endchoose
		elseif (pirate_17457 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17457
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_01]======================
npc "mjolnir_01" "Пират#mjolnir_01" 4_CAT_SAILOR2 253 262 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17458
	SetQuestConditionBegin 17458 1 4
	SetQuestConditionQuest 17458 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17458 1 4
	SetQuestConditionQuest 17458 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17458 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17458 = isbegin_quest 17458
		var hunt_check = checkquest_hunting 17458
		if (pirate_17458 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17458
					close
					return
				break
			endchoose
		elseif (pirate_17458 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17458
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_02]======================
npc "mjolnir_02" "Пират#mjolnir_02" 4_CAT_SAILOR2 300 80 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17459
	SetQuestConditionBegin 17459 1 4
	SetQuestConditionQuest 17459 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17459 1 4
	SetQuestConditionQuest 17459 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17459 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17459 = isbegin_quest 17459
		var hunt_check = checkquest_hunting 17459
		if (pirate_17459 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17459
					close
					return
				break
			endchoose
		elseif (pirate_17459 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17459
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_03]======================
npc "mjolnir_03" "Пират#mjolnir_03" 4_CAT_SAILOR2 219 92 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17460
	SetQuestConditionBegin 17460 1 4
	SetQuestConditionQuest 17460 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17460 1 4
	SetQuestConditionQuest 17460 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17460 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17460 = isbegin_quest 17460
		var hunt_check = checkquest_hunting 17460
		if (pirate_17460 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17460
					close
					return
				break
			endchoose
		elseif (pirate_17460 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17460
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_04]======================
npc "mjolnir_04" "Пират#mjolnir_04" 4_CAT_SAILOR2 359 169 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17461
	SetQuestConditionBegin 17461 1 4
	SetQuestConditionQuest 17461 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17461 1 4
	SetQuestConditionQuest 17461 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17461 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17461 = isbegin_quest 17461
		var hunt_check = checkquest_hunting 17461
		if (pirate_17461 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17461
					close
					return
				break
			endchoose
		elseif (pirate_17461 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17461
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_05]======================
npc "mjolnir_05" "Пират#mjolnir_05" 4_CAT_SAILOR2 84 166 7 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17462
	SetQuestConditionBegin 17462 1 4
	SetQuestConditionQuest 17462 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17462 1 4
	SetQuestConditionQuest 17462 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17462 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_05" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17462 = isbegin_quest 17462
		var hunt_check = checkquest_hunting 17462
		if (pirate_17462 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17462
					close
					return
				break
			endchoose
		elseif (pirate_17462 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17462
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_06]======================
npc "mjolnir_06" "Пират#mjolnir_06" 4_CAT_SAILOR2 38 338 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17463
	SetQuestConditionBegin 17463 1 4
	SetQuestConditionQuest 17463 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17463 1 4
	SetQuestConditionQuest 17463 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17463 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17463 = isbegin_quest 17463
		var hunt_check = checkquest_hunting 17463
		if (pirate_17463 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17463
					close
					return
				break
			endchoose
		elseif (pirate_17463 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17463
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_07]======================
npc "mjolnir_07" "Пират#mjolnir_07" 4_CAT_SAILOR2 31 84 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17464
	SetQuestConditionBegin 17464 1 4
	SetQuestConditionQuest 17464 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17464 1 4
	SetQuestConditionQuest 17464 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17464 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17464 = isbegin_quest 17464
		var hunt_check = checkquest_hunting 17464
		if (pirate_17464 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17464
					close
					return
				break
			endchoose
		elseif (pirate_17464 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17464
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_08]======================
npc "mjolnir_08" "Пират#mjolnir_08" 4_CAT_SAILOR2 156 345 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17465
	SetQuestConditionBegin 17465 1 4
	SetQuestConditionQuest 17465 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17465 1 4
	SetQuestConditionQuest 17465 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17465 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_08" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17465 = isbegin_quest 17465
		var hunt_check = checkquest_hunting 17465
		if (pirate_17465 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17465
					close
					return
				break
			endchoose
		elseif (pirate_17465 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17465
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_09]======================
npc "mjolnir_09" "Пират#mjolnir_09" 4_CAT_SAILOR2 206 357 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17466
	SetQuestConditionBegin 17466 1 4
	SetQuestConditionQuest 17466 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17466 1 4
	SetQuestConditionQuest 17466 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17466 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_09" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17466 = isbegin_quest 17466
		var hunt_check = checkquest_hunting 17466
		if (pirate_17466 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17466
					close
					return
				break
			endchoose
		elseif (pirate_17466 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17466
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_10]======================
npc "mjolnir_10" "Пират#mjolnir_10" 4_CAT_SAILOR2 238 363 1 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17467
	SetQuestConditionBegin 17467 1 4
	SetQuestConditionQuest 17467 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17467 1 4
	SetQuestConditionQuest 17467 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17467 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_10" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17467 = isbegin_quest 17467
		var hunt_check = checkquest_hunting 17467
		if (pirate_17467 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17467
					close
					return
				break
			endchoose
		elseif (pirate_17467 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17467
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_11]======================
npc "mjolnir_11" "Пират#mjolnir_11" 4_CAT_SAILOR2 49 210 0 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17468
	SetQuestConditionBegin 17468 1 4
	SetQuestConditionQuest 17468 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17468 1 4
	SetQuestConditionQuest 17468 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17468 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_11" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17468 = isbegin_quest 17468
		var hunt_check = checkquest_hunting 17468
		if (pirate_17468 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17468
					close
					return
				break
			endchoose
		elseif (pirate_17468 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17468
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[mjolnir_12]======================
npc "mjolnir_12" "Пират#mjolnir_12" 4_CAT_SAILOR2 193 368 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17469
	SetQuestConditionBegin 17469 1 4
	SetQuestConditionQuest 17469 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17469 1 4
	SetQuestConditionQuest 17469 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17469 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#mjolnir_12" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17469 = isbegin_quest 17469
		var hunt_check = checkquest_hunting 17469
		if (pirate_17469 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17469
					close
					return
				break
			endchoose
		elseif (pirate_17469 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17469
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[moc_fild01]======================
npc "moc_fild01" "Пират#moc_fild01" 4_CAT_SAILOR2 251 373 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17470
	SetQuestConditionBegin 17470 1 4
	SetQuestConditionQuest 17470 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17470 1 4
	SetQuestConditionQuest 17470 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17470 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#moc_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17470 = isbegin_quest 17470
		var hunt_check = checkquest_hunting 17470
		if (pirate_17470 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17470
					close
					return
				break
			endchoose
		elseif (pirate_17470 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17470
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[moc_fild02]======================
npc "moc_fild02" "Пират#moc_fild02" 4_CAT_SAILOR2 69 36 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17471
	SetQuestConditionBegin 17471 1 4
	SetQuestConditionQuest 17471 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17471 1 4
	SetQuestConditionQuest 17471 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17471 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#moc_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17471 = isbegin_quest 17471
		var hunt_check = checkquest_hunting 17471
		if (pirate_17471 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17471
					close
					return
				break
			endchoose
		elseif (pirate_17471 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17471
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[moc_fild07]======================
npc "moc_fild07" "Пират#moc_fild07" 4_CAT_SAILOR2 204 33 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17472
	SetQuestConditionBegin 17472 1 4
	SetQuestConditionQuest 17472 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17472 1 4
	SetQuestConditionQuest 17472 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17472 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#moc_fild07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17472 = isbegin_quest 17472
		var hunt_check = checkquest_hunting 17472
		if (pirate_17472 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17472
					close
					return
				break
			endchoose
		elseif (pirate_17472 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17472
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[moc_fild11]======================
npc "moc_fild11" "Пират#moc_fild11" 4_CAT_SAILOR2 52 153 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17473
	SetQuestConditionBegin 17473 1 4
	SetQuestConditionQuest 17473 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17473 1 4
	SetQuestConditionQuest 17473 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17473 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#moc_fild11" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17473 = isbegin_quest 17473
		var hunt_check = checkquest_hunting 17473
		if (pirate_17473 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17473
					close
					return
				break
			endchoose
		elseif (pirate_17473 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17473
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[moc_fild12]======================
npc "moc_fild12" "Пират#moc_fild12" 4_CAT_SAILOR2 167 363 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17474
	SetQuestConditionBegin 17474 1 4
	SetQuestConditionQuest 17474 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17474 1 4
	SetQuestConditionQuest 17474 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17474 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#moc_fild12" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17474 = isbegin_quest 17474
		var hunt_check = checkquest_hunting 17474
		if (pirate_17474 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17474
					close
					return
				break
			endchoose
		elseif (pirate_17474 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17474
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[moc_fild18]======================
npc "moc_fild18" "Пират#moc_fild18" 4_CAT_SAILOR2 164 361 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17475
	SetQuestConditionBegin 17475 1 4
	SetQuestConditionQuest 17475 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17475 1 4
	SetQuestConditionQuest 17475 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17475 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#moc_fild18" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17475 = isbegin_quest 17475
		var hunt_check = checkquest_hunting 17475
		if (pirate_17475 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17475
					close
					return
				break
			endchoose
		elseif (pirate_17475 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17475
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild01]======================
npc "pay_fild01" "Пират#pay_fild01" 4_CAT_SAILOR2 339 349 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17476
	SetQuestConditionBegin 17476 1 4
	SetQuestConditionQuest 17476 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17476 1 4
	SetQuestConditionQuest 17476 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17476 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17476 = isbegin_quest 17476
		var hunt_check = checkquest_hunting 17476
		if (pirate_17476 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17476
					close
					return
				break
			endchoose
		elseif (pirate_17476 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17476
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild02]======================
npc "pay_fild02" "Пират#pay_fild02" 4_CAT_SAILOR2 76 369 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17477
	SetQuestConditionBegin 17477 1 4
	SetQuestConditionQuest 17477 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17477 1 4
	SetQuestConditionQuest 17477 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17477 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17477 = isbegin_quest 17477
		var hunt_check = checkquest_hunting 17477
		if (pirate_17477 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17477
					close
					return
				break
			endchoose
		elseif (pirate_17477 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17477
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild03]======================
npc "pay_fild03" "Пират#pay_fild03" 4_CAT_SAILOR2 42 110 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17478
	SetQuestConditionBegin 17478 1 4
	SetQuestConditionQuest 17478 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17478 1 4
	SetQuestConditionQuest 17478 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17478 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17478 = isbegin_quest 17478
		var hunt_check = checkquest_hunting 17478
		if (pirate_17478 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17478
					close
					return
				break
			endchoose
		elseif (pirate_17478 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17478
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild04]======================
npc "pay_fild04" "Пират#pay_fild04" 4_CAT_SAILOR2 34 175 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17479
	SetQuestConditionBegin 17479 1 4
	SetQuestConditionQuest 17479 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17479 1 4
	SetQuestConditionQuest 17479 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17479 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17479 = isbegin_quest 17479
		var hunt_check = checkquest_hunting 17479
		if (pirate_17479 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17479
					close
					return
				break
			endchoose
		elseif (pirate_17479 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17479
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild07]======================
npc "pay_fild07" "Пират#pay_fild07" 4_CAT_SAILOR2 286 351 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17480
	SetQuestConditionBegin 17480 1 4
	SetQuestConditionQuest 17480 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17480 1 4
	SetQuestConditionQuest 17480 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17480 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17480 = isbegin_quest 17480
		var hunt_check = checkquest_hunting 17480
		if (pirate_17480 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17480
					close
					return
				break
			endchoose
		elseif (pirate_17480 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17480
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild08]======================
npc "pay_fild08" "Пират#pay_fild08" 4_CAT_SAILOR2 45 83 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17481
	SetQuestConditionBegin 17481 1 4
	SetQuestConditionQuest 17481 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17481 1 4
	SetQuestConditionQuest 17481 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17481 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild08" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17481 = isbegin_quest 17481
		var hunt_check = checkquest_hunting 17481
		if (pirate_17481 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17481
					close
					return
				break
			endchoose
		elseif (pirate_17481 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17481
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild09]======================
npc "pay_fild09" "Пират#pay_fild09" 4_CAT_SAILOR2 26 99 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17482
	SetQuestConditionBegin 17482 1 4
	SetQuestConditionQuest 17482 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17482 1 4
	SetQuestConditionQuest 17482 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17482 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild09" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17482 = isbegin_quest 17482
		var hunt_check = checkquest_hunting 17482
		if (pirate_17482 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17482
					close
					return
				break
			endchoose
		elseif (pirate_17482 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17482
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[pay_fild10]======================
npc "pay_fild10" "Пират#pay_fild10" 4_CAT_SAILOR2 46 297 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17483
	SetQuestConditionBegin 17483 1 4
	SetQuestConditionQuest 17483 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17483 1 4
	SetQuestConditionQuest 17483 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17483 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#pay_fild10" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17483 = isbegin_quest 17483
		var hunt_check = checkquest_hunting 17483
		if (pirate_17483 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17483
					close
					return
				break
			endchoose
		elseif (pirate_17483 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17483
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild00]======================
npc "prt_fild00" "Пират#prt_fild00" 4_CAT_SAILOR2 371 240 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17484
	SetQuestConditionBegin 17484 1 4
	SetQuestConditionQuest 17484 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17484 1 4
	SetQuestConditionQuest 17484 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17484 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild00" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17484 = isbegin_quest 17484
		var hunt_check = checkquest_hunting 17484
		if (pirate_17484 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17484
					close
					return
				break
			endchoose
		elseif (pirate_17484 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17484
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild01]======================
npc "prt_fild01" "Пират#prt_fild01" 4_CAT_SAILOR2 253 366 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17485
	SetQuestConditionBegin 17485 1 4
	SetQuestConditionQuest 17485 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17485 1 4
	SetQuestConditionQuest 17485 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17485 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17485 = isbegin_quest 17485
		var hunt_check = checkquest_hunting 17485
		if (pirate_17485 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17485
					close
					return
				break
			endchoose
		elseif (pirate_17485 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17485
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild02]======================
npc "prt_fild02" "Пират#prt_fild02" 4_CAT_SAILOR2 53 349 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17486
	SetQuestConditionBegin 17486 1 4
	SetQuestConditionQuest 17486 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17486 1 4
	SetQuestConditionQuest 17486 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17486 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17486 = isbegin_quest 17486
		var hunt_check = checkquest_hunting 17486
		if (pirate_17486 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17486
					close
					return
				break
			endchoose
		elseif (pirate_17486 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17486
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild03]======================
npc "prt_fild03" "Пират#prt_fild03" 4_CAT_SAILOR2 22 245 0 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17487
	SetQuestConditionBegin 17487 1 4
	SetQuestConditionQuest 17487 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17487 1 4
	SetQuestConditionQuest 17487 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17487 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17487 = isbegin_quest 17487
		var hunt_check = checkquest_hunting 17487
		if (pirate_17487 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17487
					close
					return
				break
			endchoose
		elseif (pirate_17487 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17487
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild04]======================
npc "prt_fild04" "Пират#prt_fild04" 4_CAT_SAILOR2 366 151 0 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17488
	SetQuestConditionBegin 17488 1 4
	SetQuestConditionQuest 17488 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17488 1 4
	SetQuestConditionQuest 17488 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17488 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17488 = isbegin_quest 17488
		var hunt_check = checkquest_hunting 17488
		if (pirate_17488 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17488
					close
					return
				break
			endchoose
		elseif (pirate_17488 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17488
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild05]======================
npc "prt_fild05" "Пират#prt_fild05" 4_CAT_SAILOR2 364 210 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17489
	SetQuestConditionBegin 17489 1 4
	SetQuestConditionQuest 17489 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17489 1 4
	SetQuestConditionQuest 17489 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17489 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild05" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17489 = isbegin_quest 17489
		var hunt_check = checkquest_hunting 17489
		if (pirate_17489 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17489
					close
					return
				break
			endchoose
		elseif (pirate_17489 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17489
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild06]======================
npc "prt_fild06" "Пират#prt_fild06" 4_CAT_SAILOR2 40 196 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17490
	SetQuestConditionBegin 17490 1 4
	SetQuestConditionQuest 17490 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17490 1 4
	SetQuestConditionQuest 17490 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17490 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17490 = isbegin_quest 17490
		var hunt_check = checkquest_hunting 17490
		if (pirate_17490 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17490
					close
					return
				break
			endchoose
		elseif (pirate_17490 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17490
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild07]======================
npc "prt_fild07" "Пират#prt_fild07" 4_CAT_SAILOR2 256 366 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17491
	SetQuestConditionBegin 17491 1 4
	SetQuestConditionQuest 17491 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17491 1 4
	SetQuestConditionQuest 17491 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17491 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17491 = isbegin_quest 17491
		var hunt_check = checkquest_hunting 17491
		if (pirate_17491 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17491
					close
					return
				break
			endchoose
		elseif (pirate_17491 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17491
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild08]======================
npc "prt_fild08" "Пират#prt_fild08" 4_CAT_SAILOR2 175 373 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17492
	SetQuestConditionBegin 17492 1 4
	SetQuestConditionQuest 17492 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17492 1 4
	SetQuestConditionQuest 17492 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17492 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild08" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17492 = isbegin_quest 17492
		var hunt_check = checkquest_hunting 17492
		if (pirate_17492 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17492
					close
					return
				break
			endchoose
		elseif (pirate_17492 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17492
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild09]======================
npc "prt_fild09" "Пират#prt_fild09" 4_CAT_SAILOR2 235 368 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17493
	SetQuestConditionBegin 17493 1 4
	SetQuestConditionQuest 17493 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17493 1 4
	SetQuestConditionQuest 17493 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17493 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild09" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17493 = isbegin_quest 17493
		var hunt_check = checkquest_hunting 17493
		if (pirate_17493 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17493
					close
					return
				break
			endchoose
		elseif (pirate_17493 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17493
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild10]======================
npc "prt_fild10" "Пират#prt_fild10" 4_CAT_SAILOR2 324 140 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17494
	SetQuestConditionBegin 17494 1 4
	SetQuestConditionQuest 17494 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17494 1 4
	SetQuestConditionQuest 17494 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17494 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild10" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17494 = isbegin_quest 17494
		var hunt_check = checkquest_hunting 17494
		if (pirate_17494 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17494
					close
					return
				break
			endchoose
		elseif (pirate_17494 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17494
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[prt_fild11]======================
npc "prt_fild11" "Пират#prt_fild11" 4_CAT_SAILOR2 294 283 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17495
	SetQuestConditionBegin 17495 1 4
	SetQuestConditionQuest 17495 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17495 1 4
	SetQuestConditionQuest 17495 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17495 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#prt_fild11" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17495 = isbegin_quest 17495
		var hunt_check = checkquest_hunting 17495
		if (pirate_17495 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17495
					close
					return
				break
			endchoose
		elseif (pirate_17495 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17495
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ra_fild01]======================
npc "ra_fild01" "Пират#ra_fild01" 4_CAT_SAILOR2 298 59 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17496
	SetQuestConditionBegin 17496 1 4
	SetQuestConditionQuest 17496 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17496 1 4
	SetQuestConditionQuest 17496 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17496 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ra_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17496 = isbegin_quest 17496
		var hunt_check = checkquest_hunting 17496
		if (pirate_17496 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17496
					close
					return
				break
			endchoose
		elseif (pirate_17496 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17496
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ra_fild03]======================
npc "ra_fild03" "Пират#ra_fild03" 4_CAT_SAILOR2 36 304 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17497
	SetQuestConditionBegin 17497 1 4
	SetQuestConditionQuest 17497 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17497 1 4
	SetQuestConditionQuest 17497 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17497 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ra_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17497 = isbegin_quest 17497
		var hunt_check = checkquest_hunting 17497
		if (pirate_17497 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17497
					close
					return
				break
			endchoose
		elseif (pirate_17497 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17497
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ra_fild04]======================
npc "ra_fild04" "Пират#ra_fild04" 4_CAT_SAILOR2 71 150 1 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17498
	SetQuestConditionBegin 17498 1 4
	SetQuestConditionQuest 17498 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17498 1 4
	SetQuestConditionQuest 17498 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17498 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ra_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17498 = isbegin_quest 17498
		var hunt_check = checkquest_hunting 17498
		if (pirate_17498 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17498
					close
					return
				break
			endchoose
		elseif (pirate_17498 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17498
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ra_fild05]======================
npc "ra_fild05" "Пират#ra_fild05" 4_CAT_SAILOR2 49 354 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17499
	SetQuestConditionBegin 17499 1 4
	SetQuestConditionQuest 17499 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17499 1 4
	SetQuestConditionQuest 17499 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17499 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ra_fild05" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17499 = isbegin_quest 17499
		var hunt_check = checkquest_hunting 17499
		if (pirate_17499 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17499
					close
					return
				break
			endchoose
		elseif (pirate_17499 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17499
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ra_fild06]======================
npc "ra_fild06" "Пират#ra_fild06" 4_CAT_SAILOR2 63 282 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17500
	SetQuestConditionBegin 17500 1 4
	SetQuestConditionQuest 17500 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17500 1 4
	SetQuestConditionQuest 17500 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17500 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ra_fild06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17500 = isbegin_quest 17500
		var hunt_check = checkquest_hunting 17500
		if (pirate_17500 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17500
					close
					return
				break
			endchoose
		elseif (pirate_17500 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17500
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ra_fild08]======================
npc "ra_fild08" "Пират#ra_fild08" 4_CAT_SAILOR2 161 49 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17501
	SetQuestConditionBegin 17501 1 4
	SetQuestConditionQuest 17501 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17501 1 4
	SetQuestConditionQuest 17501 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17501 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ra_fild08" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17501 = isbegin_quest 17501
		var hunt_check = checkquest_hunting 17501
		if (pirate_17501 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17501
					close
					return
				break
			endchoose
		elseif (pirate_17501 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17501
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ra_fild12]======================
npc "ra_fild12" "Пират#ra_fild12" 4_CAT_SAILOR2 56 233 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17502
	SetQuestConditionBegin 17502 1 4
	SetQuestConditionQuest 17502 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17502 1 4
	SetQuestConditionQuest 17502 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17502 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ra_fild12" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17502 = isbegin_quest 17502
		var hunt_check = checkquest_hunting 17502
		if (pirate_17502 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17502
					close
					return
				break
			endchoose
		elseif (pirate_17502 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17502
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[um_fild01]======================
npc "um_fild01" "Пират#um_fild01" 4_CAT_SAILOR2 340 302 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17503
	SetQuestConditionBegin 17503 1 4
	SetQuestConditionQuest 17503 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17503 1 4
	SetQuestConditionQuest 17503 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17503 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#um_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17503 = isbegin_quest 17503
		var hunt_check = checkquest_hunting 17503
		if (pirate_17503 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17503
					close
					return
				break
			endchoose
		elseif (pirate_17503 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17503
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[um_fild02]======================
npc "um_fild02" "Пират#um_fild02" 4_CAT_SAILOR2 203 359 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17504
	SetQuestConditionBegin 17504 1 4
	SetQuestConditionQuest 17504 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17504 1 4
	SetQuestConditionQuest 17504 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17504 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#um_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17504 = isbegin_quest 17504
		var hunt_check = checkquest_hunting 17504
		if (pirate_17504 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17504
					close
					return
				break
			endchoose
		elseif (pirate_17504 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17504
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[um_fild03]======================
npc "um_fild03" "Пират#um_fild03" 4_CAT_SAILOR2 32 346 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17505
	SetQuestConditionBegin 17505 1 4
	SetQuestConditionQuest 17505 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17505 1 4
	SetQuestConditionQuest 17505 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17505 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#um_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17505 = isbegin_quest 17505
		var hunt_check = checkquest_hunting 17505
		if (pirate_17505 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17505
					close
					return
				break
			endchoose
		elseif (pirate_17505 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17505
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[um_fild04]======================
npc "um_fild04" "Пират#um_fild04" 4_CAT_SAILOR2 176 24 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17506
	SetQuestConditionBegin 17506 1 4
	SetQuestConditionQuest 17506 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17506 1 4
	SetQuestConditionQuest 17506 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17506 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#um_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17506 = isbegin_quest 17506
		var hunt_check = checkquest_hunting 17506
		if (pirate_17506 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17506
					close
					return
				break
			endchoose
		elseif (pirate_17506 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17506
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ve_fild01]======================
npc "ve_fild01" "Пират#ve_fild01" 4_CAT_SAILOR2 194 40 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17507
	SetQuestConditionBegin 17507 1 4
	SetQuestConditionQuest 17507 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17507 1 4
	SetQuestConditionQuest 17507 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17507 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ve_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17507 = isbegin_quest 17507
		var hunt_check = checkquest_hunting 17507
		if (pirate_17507 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17507
					close
					return
				break
			endchoose
		elseif (pirate_17507 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17507
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ve_fild02]======================
npc "ve_fild02" "Пират#ve_fild02" 4_CAT_SAILOR2 202 54 5 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17508
	SetQuestConditionBegin 17508 1 4
	SetQuestConditionQuest 17508 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17508 1 4
	SetQuestConditionQuest 17508 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17508 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ve_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17508 = isbegin_quest 17508
		var hunt_check = checkquest_hunting 17508
		if (pirate_17508 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17508
					close
					return
				break
			endchoose
		elseif (pirate_17508 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17508
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ve_fild03]======================
npc "ve_fild03" "Пират#ve_fild03" 4_CAT_SAILOR2 350 198 2 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17509
	SetQuestConditionBegin 17509 1 4
	SetQuestConditionQuest 17509 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17509 1 4
	SetQuestConditionQuest 17509 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17509 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ve_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17509 = isbegin_quest 17509
		var hunt_check = checkquest_hunting 17509
		if (pirate_17509 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17509
					close
					return
				break
			endchoose
		elseif (pirate_17509 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17509
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ve_fild04]======================
npc "ve_fild04" "Пират#ve_fild04" 4_CAT_SAILOR2 109 51 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17510
	SetQuestConditionBegin 17510 1 4
	SetQuestConditionQuest 17510 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17510 1 4
	SetQuestConditionQuest 17510 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17510 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ve_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17510 = isbegin_quest 17510
		var hunt_check = checkquest_hunting 17510
		if (pirate_17510 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17510
					close
					return
				break
			endchoose
		elseif (pirate_17510 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17510
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[ve_fild07]======================
npc "ve_fild07" "Пират#ve_fild07" 4_CAT_SAILOR2 146 347 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17511
	SetQuestConditionBegin 17511 1 4
	SetQuestConditionQuest 17511 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17511 1 4
	SetQuestConditionQuest 17511 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17511 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#ve_fild07" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17511 = isbegin_quest 17511
		var hunt_check = checkquest_hunting 17511
		if (pirate_17511 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17511
					close
					return
				break
			endchoose
		elseif (pirate_17511 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17511
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[yuno_fild01]======================
npc "yuno_fild01" "Пират#yuno_fild01" 4_CAT_SAILOR2 216 33 1 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17512
	SetQuestConditionBegin 17512 1 4
	SetQuestConditionQuest 17512 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17512 1 4
	SetQuestConditionQuest 17512 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17512 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#yuno_fild01" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17512 = isbegin_quest 17512
		var hunt_check = checkquest_hunting 17512
		if (pirate_17512 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17512
					close
					return
				break
			endchoose
		elseif (pirate_17512 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17512
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[yuno_fild02]======================
npc "yuno_fild02" "Пират#yuno_fild02" 4_CAT_SAILOR2 28 349 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17513
	SetQuestConditionBegin 17513 1 4
	SetQuestConditionQuest 17513 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17513 1 4
	SetQuestConditionQuest 17513 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17513 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#yuno_fild02" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17513 = isbegin_quest 17513
		var hunt_check = checkquest_hunting 17513
		if (pirate_17513 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17513
					close
					return
				break
			endchoose
		elseif (pirate_17513 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17513
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[yuno_fild03]======================
npc "yuno_fild03" "Пират#yuno_fild03" 4_CAT_SAILOR2 34 172 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17514
	SetQuestConditionBegin 17514 1 4
	SetQuestConditionQuest 17514 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17514 1 4
	SetQuestConditionQuest 17514 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17514 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#yuno_fild03" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17514 = isbegin_quest 17514
		var hunt_check = checkquest_hunting 17514
		if (pirate_17514 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17514
					close
					return
				break
			endchoose
		elseif (pirate_17514 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17514
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[yuno_fild04]======================
npc "yuno_fild04" "Пират#yuno_fild04" 4_CAT_SAILOR2 215 139 6 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17515
	SetQuestConditionBegin 17515 1 4
	SetQuestConditionQuest 17515 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17515 1 4
	SetQuestConditionQuest 17515 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17515 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#yuno_fild04" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17515 = isbegin_quest 17515
		var hunt_check = checkquest_hunting 17515
		if (pirate_17515 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17515
					close
					return
				break
			endchoose
		elseif (pirate_17515 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17515
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[yuno_fild06]======================
npc "yuno_fild06" "Пират#yuno_fild06" 4_CAT_SAILOR2 186 362 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17516
	SetQuestConditionBegin 17516 1 4
	SetQuestConditionQuest 17516 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17516 1 4
	SetQuestConditionQuest 17516 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17516 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#yuno_fild06" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17516 = isbegin_quest 17516
		var hunt_check = checkquest_hunting 17516
		if (pirate_17516 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17516
					close
					return
				break
			endchoose
		elseif (pirate_17516 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17516
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[yuno_fild11]======================
npc "yuno_fild11" "Пират#yuno_fild11" 4_CAT_SAILOR2 41 272 4 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17517
	SetQuestConditionBegin 17517 1 4
	SetQuestConditionQuest 17517 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17517 1 4
	SetQuestConditionQuest 17517 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17517 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#yuno_fild11" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17517 = isbegin_quest 17517
		var hunt_check = checkquest_hunting 17517
		if (pirate_17517 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17517
					close
					return
				break
			endchoose
		elseif (pirate_17517 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17517
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

// ================[yuno_fild12]======================
npc "yuno_fild12" "Пират#yuno_fild12" 4_CAT_SAILOR2 354 255 3 0 0
OnInit:
	NpcOverBMP "group_3"
	
	AddQuestIDCondition 17518
	SetQuestConditionBegin 17518 1 4
	SetQuestConditionQuest 17518 0
	SetQuestConditionEnd
	SetQuestConditionBegin 17518 1 4
	SetQuestConditionQuest 17518 2
	SetQuestConditionEnd
	SetQuestConditionBegin 17518 1 4
	SetQuestConditionItem 6839 499 "<"
	SetQuestConditionEnd 
return
OnTouch2:
	Talk2me "Пират#yuno_fild12" "По карте всё сходится... Ну и где этот сундук?"
return
OnClick:
	dialog "[Пират]"
	dialog "Если бы я умел читать карту, "
	dialog "давно бы уже капитаном стал..."
	dialog "О! Привет. Ищешь кого-то?"
	dialog "Или, может быть, что-то..."
	wait
	choose menu "Расскажи о сокровищах " "О проклятых монетах " "Нужна помощь?"
	case 1
		dialog "[Пират]"
		dialog "Какие сокровища? Ах, ладно..."
		dialog "Я уже несколько дней "
		dialog "ничего не могу найти."
		wait
		dialog "[Пират]"
		dialog "Ты, наверное, мог заметить,"
		dialog "что здешние пираты начали "
		dialog "междуусобные разборки."
		dialog "Но им под руку часто попадаются "
		dialog "и торговцы, и обычные странники."
		wait
		dialog "[Пират]"
		dialog "Поэтому, в последнее время много "
		dialog "моряков и торговцев прячут свои "
		dialog "богатства в сундуках... "
		dialog "До лучших времён."
		wait
		dialog "[Пират]"
		dialog "Ну а я пытаюсь их найти, хе-хе."
		dialog "Если ты достаточно удачлив, "
		dialog "то тоже сможешь найти что-нибудь."
		close
		return
	break
	case 2
		dialog "[Пират]"
		dialog "А... Ходит такая легенда... "
		dialog "Некоторое время назад,"
		dialog "когда пиратов было больше,"
		dialog "чем обычных моряков,"
		dialog "корабль с полным трюмом "
		dialog "золота плыл через океан..."
		wait
		dialog "[Пират]"
		dialog "Это было золото, отнятое "
		dialog "у бедняков и трудяг с суши."
		dialog "Моряки-негодяи, что отняли "
		dialog "его, сначала были довольны "
		dialog "и тратили его на распутную "
		dialog "жизнь. "
		wait
		dialog "[Пират]"
		dialog "Но вскоре... Их перестало "
		dialog "радовать море... "
		dialog "Ром и еда больше не доставляли "
		dialog "удовольствия, а сами они "
		dialog "стали бесчувственными "
		dialog "существами."
		wait
		dialog "[Пират]"
		dialog "Монеты были прокляты людьми,"
		dialog "у которых оно было украдено."
		dialog "И только человек, который "
		dialog "соберёт пять сотен эти золотых "
		dialog "монет и безвозмездно "
		dialog "отдаст их беднякам, снимет "
		dialog "проклятье с этого золота."
		wait
		dialog "[Пират]"
		dialog "...Хотел бы я стать героем "
		dialog "этой легенды. Но для этого "
		dialog "мне нужно собрать эти 500 "
		dialog "проклятых монет... "
		wait
		dialog "[Пират]"
		dialog "Если ты принесёшь монеты,"
		dialog "я дам тебе настоящую "
		dialog "пиратскую треуголку! "
		dialog "За 500 золотых монет "
		dialog "это, конечно, странное "
		dialog "предложение... "
		wait
		dialog "[Пират]"
		dialog "Но зато ты сможешь "
		dialog "поспособствовать благому "
		dialog "делу! Да и зачем тебе "
		dialog "проклятые монеты?... "
		wait
		choose menu "Могу ли я примерить шляпу?" "Могу ли я купить шляпу?" "Мне не нужна шляпа..."
			case 1
			    if (v[jp_event63] > 4)
			        dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
			    else
			        dialog "[Пират]"
			        dialog "Ну, я могу дать её на время..."
                    dialog "Но не могу же я доверять "
                    dialog "её кому попало. "
                    wait
                    dialog "[Пират]"
                    dialog "Аренда шляпы будет стоить "
                    dialog "100 Проклятых монет. Но зато " 
                    dialog "если ты захочешь купить её "
                    dialog "в будущем, тебе останется "
                    dialog "принести на 100 монет меньше."
                    dialog "Что думаешь?"
                    wait
                    choose menu "Аренда (100 Проклятых монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] > 99)
                            dropitem Gold_Chocoin 100
                            RentItem C_Pirate_Bandana 86400 0 0 0 0 0 
                            getitem jp_event63 1
                            dialog "[Пират]"
                            dialog "Держи. И помни, "
                            dialog "что она только на один день."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
			    endif
		    break
		    case 2
		        if (v[jp_event63] > 4)
                    dialog "[Пират]"
                    dialog "Погоди-ка минутку..."
                    dialog "Ты ведь брал её в аренду "
                    dialog "уже 5 раз! Получается, что "
                    dialog "мы уже собрали 500 Проклятых "
                    dialog "монет."
                    wait
                    dialog "[Пират]"
                    dialog "Поверить не могу..."
                    dialog "Мы с тобой наконец "
                    dialog "снимем проклятье с этого "
                    dialog "золота... Я возьму на себя "
                    dialog "их раздачу беднякам. "
                    wait
                    dialog "[Пират]"
                    dialog "А тебе, конечно, я даю свою "
                    dialog "пиратскую треуголку, как "
                    dialog "и обещал."
                    setitem jp_event63 0
                    getitem C_Pirate_Bandana 1 
                    close
                    return
                else
                    var rent_count = v[jp_event63]
                    var rent_discount = rent_count * 100
                    var hat_cost = 500 - rent_discount
                    dialog "[Пират]"
                    dialog "Для её получения, нужно собрать "
                    dialog "минимум 500 Проклятых монет."
                    if (hat_cost < 500)
                    dialog "Но ты уже брал у меня эту шляпу "
                    dialog "несколько раз в аренду, поэтому "
                    dialog "я готов предложить тебе её за "
                    dialog ""+hat_cost+" монет."
                    endif
                    choose menu "Купить ("+hat_cost+" монет)" "Отмена "
                    case 1
                        if (v[Gold_Chocoin] >= hat_cost)
                            dialog "[Пират]"
                            dialog "Поверить не могу..."
                            dialog "Мы с тобой наконец "
                            dialog "снимем проклятье с этого "
                            dialog "золота... Я возьму на себя "
                            dialog "их раздачу беднякам. "
                            wait
                            dialog "[Пират]"
                            dialog "А тебе, конечно, я даю свою "
                            dialog "пиратскую треуголку, как "
                            dialog "и обещал."
                            dropitem Gold_Chocoin hat_cost
                            setitem jp_event63 0
                            getitem C_Pirate_Bandana 1 
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает зени."
                            dialog "Я хоть и не силён в "
                            dialog "арифметике, но монеты "
                            dialog "считаю как надо. "
                            close
                            return
                        endif
                    break
                    case 2
                        close
                        return
                    break
                    endchoose
                endif
            break
			case 3
			    dialog "[Пират]"
				dialog "Если тебе они не нужны, "
				dialog "и пиратская шляпа тоже,"
				dialog "то я могу обменять их на "
				dialog "несколько бутылок рома, "
				dialog "по одной за 5 монет."
				wait
				choose menu "Хочу обменять " "Оставлю "
				case 1
				    dialog "[Пират]"
                    dialog "Сколько бутылок рома ты хочешь получить? "
                    dlgwrite 1 500
                    if input == 0
                        dialog "[Пират]"
                        dialog "Ну и правильно."
                        close
                        return
                    elseif error
                        dialog "[Пират]"
                        dialog "Так ты хочешь обменять или нет?"
                        close
                        return
                    else
                        var rum_cost = input * 5
                        if (v[Gold_Chocoin] >= rum_cost)
                        var weight_check = GetInventoryRemainCount 23660 input
                        if ((weight_check == 2)|(weight_check == 3))
                            dialog "[Пират]"
                            dialog "У тебя переполнен инвентарь."
                            close
                            return
                        else
                            dialog "[Пират]"
                            dialog "Держи. Дело твоё, конечно... "
                            dropitem Gold_Chocoin rum_cost
                            getitem Dogly_Bottle_Z input
                            close
                            return
                        endif
                        else
                            dialog "[Пират]"
                            dialog "У тебя не хватает монет. "
                            close
                            return
                        endif
                    endif
				break
				case 2
				    dialog "[Пират]"
                    dialog "Ну и правильно."
                    close
                    return
				break
				endchoose
			break
		endchoose
	break
	case 3
		var pirate_17518 = isbegin_quest 17518
		var hunt_check = checkquest_hunting 17518
		if (pirate_17518 == 0)
			dialog "[Пират]"
			dialog "Вообще-то, да. Было бы "
			dialog "славно, если бы ты слегка "
			dialog "освободил этот район от существ."
			dialog "Мы с командой как раз нашли "
			dialog "здесь... А, впрочем, неважно что."
			wait
			choose menu "Я возьмусь "
				case 1
					dialog "[Пират]"
					dialog "Славно."
					dialog "500 существ будет достаточно."
					dialog "Конечно, я не оставлю тебя "
					dialog "без награды."
					setquest 17518
					close
					return
				break
			endchoose
		elseif (pirate_17518 == 1)
			if (hunt_check == 2)
			    var weight_check = GetInventoryRemainCount 1301 2
                if ((weight_check == 2)|(weight_check == 3))
                    dialog "[Пират]"
                    dialog "Освободи немного места "
                    dialog "в инвентаре и возвращайся. "
                    close
                    return
                endif
				dialog "[Пират]"
				dialog "Отличная работа!"
				dialog "Пару бутылочек нашего рома "
				dialog "скрасят твой вечер. "
				completequest 17518
				getitem Comp_Glass_Of_Illusion 10
				getitem Dogly_Bottle_Z 10
				getitem Gold_Chocoin 20
				wait
				dialog "[Пират]"
				dialog "Также, я нашёл немного "
				dialog "золотых монет, которые "
				dialog "понадобятся тебе, если ты "
				dialog "захочешь пиратскую треуголку."
				close
				return
			else
				dialog "[Пират]"
				dialog "Нужна помощь только в очистке "
				dialog "территории. Возвращайся, "
				dialog "когда закончишь задание."
				close
				return
			endif
		else
			dialog "[Пират]"
			dialog "Спасибо, но помощь здесь "
			dialog "больше не нужна. "
			close
			return
		endif
	break
	endchoose
return

